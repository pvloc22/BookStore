<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/AccountUpdate.css">

    <title>Account Update</title>

</head>

<body>
    <div id="main">
        <form id="form">
            <div class="input-name">
                <div class="form-group-name">
                    <label for="input-firstname">First Name</label><br>
                    <input type="text" id="input-firstname" name="firstname" value="{{data.FIRSTNAME}}">
                </div>

                <div class="form-group-name">
                    <label for="input-lastname">Last Name</label><br>
                    <input type="text" id="input-lastname" name="lastname" value="{{data.LASTNAME}}">
                </div>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="gender" id="inlineRadio1" value="Male">
                <label class="form-check-label" for="inlineRadio1">Male</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="gender" id="inlineRadio2" value="Female">
                <label class="form-check-label" for="inlineRadio2">Female</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="gender" id="inlineRadio3" value="Other">
                <label class="form-check-label" for="inlineRadio3">Other</label>
            </div>

            <div class="form-group">
                <label for="input-address">Address</label>
                <input type="text" class="form-control" id="input-address" name="address" value="{{data.ADDRESS_U}}">
            </div>

            <div class="form-group">
                <label for="input-email">Email address</label>
                <input type="email" class="form-control" id="input-email" name="email" value="{{data.EMAIL}}">
            </div>

            <div class="form-group">
                <label for="input-bankaccount">Bank Account</label>
                <input type="text" class="form-control" id="input-bankaccount" name="bankaccount"
                    placeholder="8273871238">
            </div>

            <div class="form-group">
                <label for="input-bankname">Bank name</label>
                <input type="text" class="form-control" id="input-bankname" name="bankname" placeholder="HSBC ">
            </div>

            <div class="form-group">
                <label for="input-phonenumber">Phone number</label>
                <input type="tel" class="form-control" id="input-phonenumber" name="phonenumber"
                    value="{{data.PHONENUMBER}}">
            </div>

            <div class="savechange">
                <button class="button-savechange"><i class="fa fa-save"></i> Save change </button>
            </div>
        </form>
    </div>
    <script>
        const form = document.getElementById('form')

        form.addEventListener('submit', event => {
            event.preventDefault()

            const formData = new FormData(form)
            const data = Object.fromEntries(formData)

            const options = {
                method: 'POST',
                headers: {
                    'content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            }
            const URL = '/AccountUpdate/updateUser'
            fetch(URL, options)
                .then(response => response.json())
                .then(data => {
                    if (data.err) alert('Erro update account !')
                    else {
                        alert('successfully update account!')
                        location.reload();

                    }
                })
        })
    </script>
</body>

</html>